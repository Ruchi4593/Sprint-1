<!DOCTYPE html>
<html>
<head>
    <title>Add Train</title>
    <script>
        // Function to dynamically add more compartments to the form
        function addCompartmentFields() {
            var compartmentCount = document.getElementById("compartmentCount").value;
            var container = document.getElementById("compartmentFields");

            // Clear previous fields if any
            container.innerHTML = "";

            // Generate the new fields for each compartment
            for (var i = 1; i <= compartmentCount; i++) {
                var div = document.createElement("div");
                div.innerHTML = `
                    <h3>Compartment ${i}</h3>
                    <label for="compartmentType${i}">Compartment Type:</label>
                    <input type="text" id="compartmentType${i}" name="compartmentType${i}" required><br><br>
                    
                    <label for="compartmentSeats${i}">Total Seats:</label>
                    <input type="number" id="compartmentSeats${i}" name="compartmentSeats${i}" required><br><br>
                    
                    <label for="compartmentFare${i}">Fare:</label>
                    <input type="number" id="compartmentFare${i}" name="compartmentFare${i}" required><br><br>
                `;
                container.appendChild(div);
            }
        }
    </script>
</head>
<body>
    <h2>Add Train</h2>
    <form method="post" action="AddTrainServlet">
        <label for="trainName">Train Name:</label>
        <input type="text" id="trainName" name="trainName" required><br><br>

        <label for="compartmentCount">Number of Compartments:</label>
        <input type="number" id="compartmentCount" name="compartmentCount" required
               onchange="addCompartmentFields()"><br><br>

        <!-- Compartment fields will be dynamically added here -->
        <div id="compartmentFields"></div>

        <label for="reservation">Reservation Seats:</label>
        <input type="number" id="reservation" name="reservation" required><br><br>

        <label for="rac">RAC Seats:</label>
        <input type="number" id="rac" name="rac" required><br><br>

        <label for="waiting">Waiting Seats:</label>
        <input type="number" id="waiting" name="waiting" required><br><br>

        <label for="trainHalfAtStation">Is Train Half at Station (yes/no):</label>
        <input type="text" id="trainHalfAtStation" name="trainHalfAtStation" required><br><br>

        <label for="reservationChart">Reservation Chart Status:</label>
        <input type="text" id="reservationChart" name="reservationChart" required><br><br>

        <label for="source">Source Station:</label>
        <input type="text" id="source" name="source" required><br><br>

        <label for="destination">Destination Station:</label>
        <input type="text" id="destination" name="destination" required><br><br>

        <input type="submit" value="Add Train">
    </form>
</body>
</html>
